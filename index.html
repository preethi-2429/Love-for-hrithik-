<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>For Hrithik â€” Pixel Love ğŸ’—</title>

<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">

<style>
  :root{
    --bg:#ffeaf2; --accent:#ff66a1; --muted:#7e5560; --pixel-border:6px;
  }
  html,body{height:100%;margin:0;font-family:"Press Start 2P", monospace;background:var(--bg);color:#2b1720;-webkit-font-smoothing:antialiased;}
  /* faded wallpaper */
  body::before{
    content:""; position:fixed; inset:0; z-index:-2;
    background-image: url('https://i.ibb.co/9sk5q3W/spiderman-gwen.jpg');
    background-size:cover; background-position:center; opacity:0.26; filter:blur(2px) saturate(1.05);
  }
  body::after{ content:""; position:fixed; inset:0; z-index:-1; background: linear-gradient(180deg, rgba(255,255,255,0.22), rgba(255,245,250,0.36)); }
  .stage{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:18px;box-sizing:border-box;}
  .card{width:min(820px,96%);background:linear-gradient(180deg,#fff,#fff6fb);border-radius:14px;padding:18px;border:var(--pixel-border) solid rgba(255,200,230,0.6);box-shadow:0 12px 30px rgba(60,10,40,0.06);text-align:center}
  h1{margin:6px 0;font-size:20px}
  p.lead{margin:6px 0;color:var(--muted);font-size:11px}

  /* pixel big button */
  .big-btn{display:inline-block;padding:14px 18px;border-radius:10px;background:linear-gradient(180deg,#fff,#ffeef8);border:8px solid rgba(255,200,230,0.95);box-shadow:0 8px 0 rgba(255,150,200,0.28);color:var(--accent);cursor:pointer;font-size:11px}
  .big-btn:active{transform:translateY(6px);box-shadow:none}

  /* overlays */
  .overlay{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;z-index:60;background:rgba(10,6,8,0.18);visibility:hidden;opacity:0;transition:opacity .18s, visibility .18s}
  .overlay.show{visibility:visible;opacity:1}
  .modal{width:min(420px,94%);background:linear-gradient(180deg,#fff,#fff6fb);padding:14px;border-radius:12px;text-align:center;border:6px solid rgba(255,210,240,0.9)}
  .modal h2{font-size:12px;margin:4px 0;color:var(--accent)}
  .modal p{font-size:11px;color:var(--muted);margin:6px 0 10px 0}

  .row{display:flex;gap:8px;justify-content:center;flex-wrap:wrap}
  .btn{padding:8px 10px;border-radius:8px;border:5px solid rgba(255,160,210,0.9);background:linear-gradient(180deg,#fff,#fff0f6);color:var(--accent);cursor:pointer;font-size:10px;box-shadow:0 6px 0 rgba(255,150,200,0.28)}
  .btn:active{transform:translateY(4px);box-shadow:0 3px 0 rgba(255,150,200,0.14)}
  .pixel-link{display:inline-block;padding:8px 10px;border-radius:10px;border:8px solid rgba(255,210,240,0.9);background:linear-gradient(180deg,#fff,#fff6fb);cursor:pointer;font-size:10px;color:var(--accent)}

  /* hearts layer */
  .hearts-layer{position:fixed;inset:0;pointer-events:none;z-index:55;overflow:hidden}
  .heart{position:absolute; width:18px; height:18px; font-size:16px; line-height:18px; text-align:center; transform:translateY(-40px); opacity:0; filter:drop-shadow(0 6px 8px rgba(195,45,120,0.12)); image-rendering:pixelated}
  .big-heart-anim{font-size:72px}

  /* letter content (pixel style) */
  .letter-content{font-size:11px;color:#4a2f36;text-align:left;background:linear-gradient(180deg,rgba(255,255,255,0.95),rgba(255,250,252,0.95));padding:10px;border-radius:8px;border:4px dashed rgba(220,140,170,0.18);max-height:56vh;overflow:auto}

  /* this-is-us */
  .scroll-frame{width:92%;max-width:420px;margin:10px auto;border-radius:8px;border:8px solid rgba(255,210,240,0.9);background:linear-gradient(180deg,#fff,#fff6fb);overflow:hidden}
  .scroll-inner{height:260px;overflow:auto;padding:8px}
  .pixel-img{max-width:100%;image-rendering:pixelated;border-radius:6px;display:block;margin:0 auto}

  /* broken heart animation */
  .broken-wrap{text-align:center}
  .broken-heart{font-size:86px;transform-origin:center;opacity:0;transition:transform .36s, opacity .36s}

  /* game */
  .board{display:grid;grid-template-columns:repeat(3,1fr);gap:8px;width:260px;max-width:86vw;margin:10px auto}
  .cell{height:68px;background:linear-gradient(180deg,#fff,#fff6fb);border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:28px;cursor:pointer;box-shadow:0 8px 0 rgba(255,200,220,0.28);user-select:none}
  .cell.disabled{cursor:not-allowed;opacity:0.8}

  @media(max-width:520px){
    .cell{height:56px;font-size:24px}
    .big-heart-anim{font-size:56px}
  }
</style>
</head>
<body>

  <div class="stage">
    <div class="card">
      <h1>For Hrithik ğŸ’Œ</h1>
      <p class="lead">Open and be honest â€” pixel surprise awaits ğŸŒ·</p>
      <div style="margin-top:14px;">
        <button id="startBtn" class="big-btn">Hey love â€” click me ğŸŒ·</button>
      </div>
      <div style="margin-top:8px;color:var(--muted);font-size:10px">Made with rose milk & pixel love</div>
    </div>
  </div>

  <!-- hearts layer -->
  <div class="hearts-layer" id="heartsLayer" aria-hidden="true"></div>

  <!-- initial question popup -->
  <div class="overlay" id="qPopup">
    <div class="modal">
      <h2>Do you like your pasandida auratğŸŒ·ğŸ˜šğŸ’— ?</h2>
      <p>Be honest â€” your heart matters!</p>
      <div class="row">
        <button class="btn" id="yesBtn">Yes</button>
        <button class="btn" id="noBtn">No</button>
      </div>
    </div>
  </div>

  <!-- pixel link popup after hearts -->
  <div class="overlay" id="linkPopup">
    <div class="modal">
      <h2>Little surprise</h2>
      <p>Click the pixel link to read my letter ğŸ’Œ</p>
      <div class="row"><div class="pixel-link" id="pixelLetterBtn">Click me my handsome</div></div>
    </div>
  </div>

  <!-- letter popup (with Close button) -->
  <div class="overlay" id="letterPopup">
    <div class="modal">
      <h2>My Letter</h2>
      <div class="letter-content" id="letterBox">
        <div style="font-size:11px;color:#7d5a66;">
          My Dearest Hrithik,<br><br>
          I donâ€™t think you will ever truly know how deeply I love you.<br>
          You are not just a part of my life â€” you are the meaning of it.<br><br>

          Every version of my future has you in it, every wish I make has your name in it.<br><br>

          Every 11:11, I still wish the same thing:<br>
          that I never hurt you, and that I become someone who only gives you love, peace, and comfort.<br><br>

          Iâ€™m trying, and I always will, because you matter that much to me.<br><br>

          You are my safe place, my miracle, my favourite feeling.<br>
          I donâ€™t ever want a life where Iâ€™m not loving you.<br><br>

          I love you endlessly.<br><br>

          ~ Your Pasandida Aurat ğŸŒ·
        </div>
        <div style="text-align:right;margin-top:8px"><span class="sig">â€” Pasandida Aurat</span></div>
      </div>

      <div class="row" style="margin-top:10px;">
        <button class="btn" id="closeLetterBtn">Close âŒ</button>
      </div>
    </div>
  </div>

  <!-- this is us popup -->
  <div class="overlay" id="thisPopup">
    <div class="modal">
      <h2>This is us ğŸ’—</h2>
      <div class="scroll-frame"><div class="scroll-inner">
        <img class="pixel-img" src="https://i.ibb.co/D1pb74J/batman-hello-kitty-pixel.png" alt="kittens"/>
        <p style="font-size:10px;color:var(--muted);text-align:center;margin-top:8px">(scroll to view)</p>
      </div></div>
      <div class="row" style="margin-top:8px;">
        <button class="btn" id="closeThisBtn">Close</button>
      </div>
    </div>
  </div>

  <!-- love game popup -->
  <div class="overlay" id="gamePopup">
    <div class="modal">
      <h2>Love Game â€” Tic Tac Toe</h2>
      <p style="font-size:11px;color:var(--muted)">You're â™¥ (hearts). Win and get my heart!</p>
      <div class="board" id="board">
        <div class="cell" data-i="0"></div>
        <div class="cell" data-i="1"></div>
        <div class="cell" data-i="2"></div>
        <div class="cell" data-i="3"></div>
        <div class="cell" data-i="4"></div>
        <div class="cell" data-i="5"></div>
        <div class="cell" data-i="6"></div>
        <div class="cell" data-i="7"></div>
        <div class="cell" data-i="8"></div>
      </div>
      <div class="row" style="margin-top:10px;">
        <button class="btn" id="resetBtn">Reset</button>
        <button class="btn" id="closeGameBtn">Close</button>
      </div>
      <div style="margin-top:8px;font-size:10px;color:var(--muted)" id="gameMsg">Your turn</div>
    </div>
  </div>

  <!-- win popup -->
  <div class="overlay" id="winPopup">
    <div class="modal">
      <h2>Yaayy!! ğŸ‰</h2>
      <p>You win my heart ğŸ’—</p>
      <div class="row"><button class="btn" id="winCloseBtn">Close</button></div>
    </div>
  </div>

  <!-- broken heart popup (shown immediately on initial No) -->
  <div class="overlay" id="brokenPopup">
    <div class="modal broken-wrap">
      <div class="broken-heart" id="brokenHeartEl">ğŸ’”</div>
      <div style="font-family:'Press Start 2P',monospace;color:var(--accent);font-size:11px">Broken heart...</div>
      <div class="row" style="margin-top:8px;"><button class="btn" id="brokenCloseBtn">Try again</button></div>
    </div>
  </div>

<script>
  // Elements
  const startBtn = document.getElementById('startBtn');
  const qPopup = document.getElementById('qPopup');
  const yesBtn = document.getElementById('yesBtn');
  const noBtn = document.getElementById('noBtn');
  const heartsLayer = document.getElementById('heartsLayer');

  const linkPopup = document.getElementById('linkPopup');
  const pixelLetterBtn = document.getElementById('pixelLetterBtn');
  const letterPopup = document.getElementById('letterPopup');
  const closeLetterBtn = document.getElementById('closeLetterBtn');

  const thisPopup = document.getElementById('thisPopup');
  const closeThisBtn = document.getElementById('closeThisBtn');

  const gamePopup = document.getElementById('gamePopup');
  const board = document.getElementById('board');
  const cells = Array.from(document.querySelectorAll('.cell'));
  const resetBtn = document.getElementById('resetBtn');
  const closeGameBtn = document.getElementById('closeGameBtn');
  const gameMsg = document.getElementById('gameMsg');

  const winPopup = document.getElementById('winPopup');
  const winCloseBtn = document.getElementById('winCloseBtn');

  const brokenPopup = document.getElementById('brokenPopup');
  const brokenHeartEl = document.getElementById('brokenHeartEl');
  const brokenCloseBtn = document.getElementById('brokenCloseBtn');

  // helpers
  function show(el){ el.classList.add('show'); }
  function hide(el){ el.classList.remove('show'); }

  // start
  startBtn.addEventListener('click', ()=> show(qPopup));

  // YES: pink heart rain + then small link popup
  yesBtn.addEventListener('click', ()=> {
    hide(qPopup);
    spawnManyHearts(40, 'pink'); // many pink hearts
    setTimeout(()=> show(linkPopup), 1400);
  });

  // NO: immediate broken heart popup
  noBtn.addEventListener('click', ()=> {
    hide(qPopup);
    show(brokenPopup);
    animateBrokenHeart();
  });

  // broken heart close => return to initial question
  brokenCloseBtn.addEventListener('click', ()=> {
    hide(brokenPopup);
    setTimeout(()=> show(qPopup), 260);
  });

  // pixel letter flow
  pixelLetterBtn.addEventListener('click', ()=> {
    hide(linkPopup);
    setTimeout(()=> show(letterPopup), 260);
  });

  closeLetterBtn.addEventListener('click', ()=> {
    hide(letterPopup);
    // after letter close, show This Is Us popup then Love Game popup
    setTimeout(()=> { show(thisPopup); }, 260);
    setTimeout(()=> { show(gamePopup); resetGame(); }, 1200);
  });

  closeThisBtn.addEventListener('click', ()=> hide(thisPopup));

  // hearts spawn utility (pink hearts)
  function spawnManyHearts(count, color='pink'){
    for(let i=0;i<count;i++){
      setTimeout(()=> {
        const el = document.createElement('div');
        el.className = 'heart';
        el.textContent = 'ğŸ’—';
        // pixel placement
        el.style.left = (5 + Math.random()*90) + '%';
        el.style.top = '-30px';
        heartsLayer.appendChild(el);

        // random duration and path
        const dur = 2200 + Math.random()*1800;
        const drift = (Math.random()*120 - 60);
        // animate with Web Animations
        el.animate([
          { transform: 'translateY(0) scale(.6)', opacity: 0 },
          { transform: `translate(${drift}px, ${window.innerHeight*0.95}px) scale(1.05)`, opacity: 1 },
          { transform: `translate(${drift*1.1}px, ${window.innerHeight*1.05}px) scale(.9)`, opacity: 0 }
        ], { duration: dur, easing: 'cubic-bezier(.2,.8,.2,1)' });

        // remove later
        setTimeout(()=> { try{ heartsLayer.removeChild(el); }catch(e){} }, dur+300);
      }, i*80);
    }
  }

  // broken heart animation
  function animateBrokenHeart(){
    brokenHeartEl.style.opacity = 0;
    brokenHeartEl.style.transform = 'scale(.2) rotate(0deg)';
    setTimeout(()=> {
      brokenHeartEl.style.transition = 'transform .5s ease, opacity .4s ease';
      brokenHeartEl.style.opacity = 1;
      brokenHeartEl.style.transform = 'scale(1) rotate(8deg)';
      // shake + crack after short delay
      setTimeout(()=> {
        brokenHeartEl.style.transform = 'scale(1.05) rotate(-12deg)';
        setTimeout(()=> { brokenHeartEl.style.transform = 'scale(.9) rotate(6deg)'; },120);
      },380);
    },60);
  }

  // ----------------------
  // TIC TAC TOE (player = â™¥, cpu = â—‹)
  // ----------------------
  let boardState = Array(9).fill(null);
  let player = 'â™¥', cpu = 'â—‹', locked = false;

  function render(){
    boardState.forEach((v,i)=> {
      cells[i].textContent = v? v : '';
      if(v) cells[i].classList.add('disabled'); else cells[i].classList.remove('disabled');
    });
  }

  function checkWin(b, mark){
    const wins = [
      [0,1,2],[3,4,5],[6,7,8],
      [0,3,6],[1,4,7],[2,5,8],
      [0,4,8],[2,4,6]
    ];
    return wins.some(w => w.every(i => b[i]===mark));
  }

  function cpuThink(){
    // simple AI: win, block, center, corner, random
    for(let i=0;i<9;i++){
      if(!boardState[i]){ const copy = boardState.slice(); copy[i]=cpu; if(checkWin(copy, cpu)){ boardState[i]=cpu; return; } }
    }
    for(let i=0;i<9;i++){
      if(!boardState[i]){ const copy = boardState.slice(); copy[i]=player; if(checkWin(copy, player)){ boardState[i]=cpu; return; } }
    }
    if(!boardState[4]){ boardState[4]=cpu; return; }
    const corners=[0,2,6,8].filter(i=>!boardState[i]);
    if(corners.length){ boardState[corners[Math.floor(Math.random()*corners.length)]] = cpu; return; }
    const empties = boardState.map((v,i)=> v? null : i).filter(x=> x!==null);
    if(empties.length) boardState[empties[Math.floor(Math.random()*empties.length)]] = cpu;
  }

  cells.forEach(c => {
    c.addEventListener('click', () => {
      const i = Number(c.dataset.i);
      if(locked) return;
      if(boardState[i]) return;
      boardState[i]=player;
      render();
      if(checkWin(boardState, player)){
        locked = true;
        setTimeout(()=> { show(winPopup); spawnManyHearts(28,'pink'); }, 240);
        return;
      }
      if(boardState.every(Boolean)){
        locked=true; gameMsg.textContent = "Draw!";
        return;
      }
      locked = true; gameMsg.textContent = "CPU thinking...";
      setTimeout(()=> {
        cpuThink(); render();
        if(checkWin(boardState, cpu)){ locked = true; gameMsg.textContent = "CPU won"; }
        else { locked=false; gameMsg.textContent = "Your turn"; }
        if(boardState.every(Boolean) && !checkWin(boardState, player) && !checkWin(boardState, cpu)){ locked=true; gameMsg.textContent="Draw!"; }
      },520);
    });
  });

  function resetGame(){
    boardState = Array(9).fill(null);
    locked = false; gameMsg.textContent = "Your turn";
    render();
  }

  resetBtn.addEventListener('click', resetGame);
  closeGameBtn.addEventListener('click', ()=> hide(gamePopup));
  winCloseBtn.addEventListener('click', ()=> { hide(winPopup); hide(gamePopup); });

  // close buttons for other popups
  document.getElementById('closeThisBtn').addEventListener('click', ()=> hide(thisPopup));
  document.getElementById('brokenCloseBtn').addEventListener('click', ()=> { hide(brokenPopup); setTimeout(()=> show(qPopup),200); });

  // accessibility: ESC closes overlays
  window.addEventListener('keydown', (e)=>{ if(e.key==='Escape') document.querySelectorAll('.overlay').forEach(o=> hide(o)); });

  // On page load small flourish
  window.addEventListener('load', ()=> { setTimeout(()=> startBtn.classList.add('pop'),220); setTimeout(()=> startBtn.classList.remove('pop'),640); });

  // ensure initial state
  resetGame();

</script>
</body>
</html>
